<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>動的カレンダー</title>
<style>
    table {
        border-collapse: collapse;
        width: 300px;
    }
    th, td {
        border: 1px solid black;
        padding: 5px;
        text-align: center;
    }
</style>
</head>
<body>

<h2 id="calendar-heading">カレンダー</h2>

<div id="calendar-container">
    <table id="calendar-table">
        <thead>
            <tr id="calendar-header"></tr>
        </thead>
        <tbody id="calendar-body"></tbody>
    </table>

    <div id="calendar-buttons">
        <button onclick="previousMonth()">前の月へ</button>
        <button onclick="nextMonth()">次の月へ</button>
    </div>
</div>

<script>
    var currentYear, currentMonth;
    var headerRow = document.getElementById('calendar-header');
    var body = document.getElementById('calendar-body');

    // 初期表示は今月のカレンダー
    var today = new Date();
    currentYear = today.getFullYear();
    currentMonth = today.getMonth();

    // カレンダーを表示する関数
    function showCalendar(year, month) {
        // ヘッダーの曜日を設定
        var days = ['日', '月', '火', '水', '木', '金', '土'];
        headerRow.innerHTML = '';
        days.forEach(function(day) {
            var th = document.createElement('th');
            th.textContent = day;
            headerRow.appendChild(th);
        });

        // カレンダーのボディを生成
        body.innerHTML = '';
        var startDate = new Date(year, month, 1);
        var endDate = new Date(year, month + 1, 0);
        var currentRow = document.createElement('tr');
        for (var i = 0; i < startDate.getDay(); i++) {
            currentRow.appendChild(document.createElement('td'));
        }
        for (var i = startDate.getDate(); i <= endDate.getDate(); i++) {
            var dayCell = document.createElement('td');
            dayCell.textContent = i;
            currentRow.appendChild(dayCell);
            if (currentRow.children.length % 7 == 0) {
                body.appendChild(currentRow);
                currentRow = document.createElement('tr');
            }
        }
        if (currentRow.children.length > 0) {
            body.appendChild(currentRow);
        }

        // カレンダーのタイトルを設定
        document.getElementById('calendar-heading').textContent = year + '年' + (month + 1) + '月';
    }

    // 初回表示
    showCalendar(currentYear, currentMonth);

    // 前の月へ移動する関数
    function previousMonth() {
        currentMonth--;
        if (currentMonth < 0) {
            currentMonth = 11;
            currentYear--;
        }
        showCalendar(currentYear, currentMonth);
    }

    // 次の月へ移動する関数
    function nextMonth() {
        currentMonth++;
        if (currentMonth > 11) {
            currentMonth = 0;
            currentYear++;
        }
        showCalendar(currentYear, currentMonth);
    }
</script>

</body>
</html>
